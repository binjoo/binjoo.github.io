<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="theme-color" content="#202020"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>Google AI，让 Typecho 也尝尝 - 嘀咕</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.min.css"><link rel="stylesheet" href="/css/forever.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="wrap flex fd-c fai-c my-4 gap-4"><header class="flex fd-r fai-c fjc-sb mt-4 mb-8 gap-8"><div class="logo mb-1"><a class="flex px-2" href="/"><div class="draw"><div class="ghost"><div class="body"><div class="face"><div class="eyes"><span></span><span></span></div><div class="mouth"></div></div><div class="hands"> </div></div><div class="feet"><span></span><span></span><span></span><span></span></div></div></div><span class="name flex fjc-c fai-c">嘀咕</span></a></div><ul class="flex m-0 p-0 ta-c gap-6"><li><a href="/">首页</a></li><li><a href="/says">碎语</a></li><li><a href="/archives">归档</a></li><li><a href="/friends">朋友</a></li><li><a href="/about">关于</a></li></ul></header><main><article><div class="header flex fd-c fai-c"><h1 class="my-0">Google AI，让 Typecho 也尝尝</h1><time datetime="2024-02-02T10:07:00.000Z">2024-02-02 18:07</time></div><div class="content mt-6"><p>2022年底，ChatGPT 推出后，就像病毒一样四处传播，AI 对话再也不是智障一般的体验，脑洞大开的博友们也尝试着把 AI 应用到博客中来。第一次看到对 AI 对日志的评论是在<a target="_blank" rel="noopener" href="https://www.eallion.com/">@蜗牛</a>的博客中，觉得挺有意思的，但当时找不到能够白嫖的 AI，于是放弃了。</p>
<ul class="gallery gallery-1 gap-1"><li><a class="image" target="_blank" rel="noopener" href="https://digu-image-host.s3.bitiful.net/2024/02/d53c7bcb0c4f4d21b94dda1e3fd45a3d/73b44511ccb1476893c417e3db028926.png!style:original" data-fancybox="gallery" data-caption="部分效果展示"><img class="lazy br-1" data-original="https://digu-image-host.s3.bitiful.net/2024/02/d53c7bcb0c4f4d21b94dda1e3fd45a3d/73b44511ccb1476893c417e3db028926.png!style:definition" src="https://digu-image-host.s3.bitiful.net/2024/02/d53c7bcb0c4f4d21b94dda1e3fd45a3d/73b44511ccb1476893c417e3db028926.png!style:thumbnail" alt="部分效果展示"></a></li></ul>

<p>前几天看到一篇教程，在<a target="_blank" rel="noopener" href="https://www.cloudflare.com/">CloudFlare</a>上配置下可以解决长城之外的内容，于是就可以开始折腾 Google AI 了。</p>
<h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><p>插件会利用到 Typecho 程序中的自定义字段，会创建一个名为<code>gemini_comment</code>的字段来保存评论内容，强迫症患者不建议使用。</p>
<p>激活后需要修改主题，在需要展示的地方加入<code>&lt;?php $gemini = Gemini_Plugin::comment($this); ?&gt;</code>代码，成功的话变量中就是评论内容。</p>
<p>下面给出当前主题的代码片段：</p>
<div class="code-block mb-6"><div class="header px-4 py-3" data-language="php"><span></span><span></span><span></span></div><div class="body flex fd-r"><div class="line-numbers py-1 mx-3"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div><pre class="language-php m-0 mr-4 py-1" data-language="php"><code class="language-php p-0"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token variable">$gemini</span> <span class="token operator">=</span> <span class="token class-name static-context">Gemini_Plugin</span><span class="token operator">::</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$gemini</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-ai<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-ai-header flex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-ai-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-ai-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-ai-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          由 Google AI Gemini Pro 生成
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-ai-content comment-item-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$gemini</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endif</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span></code></pre></div></div>

<ul class="gallery gallery-1 gap-1"><li><a class="image" target="_blank" rel="noopener" href="https://digu-image-host.s3.bitiful.net/2024/02/d53c7bcb0c4f4d21b94dda1e3fd45a3d/19d2c37428f3448ea58831b49610bfab.png!style:original" data-fancybox="gallery" data-caption="后台设置"><img class="lazy br-1" data-original="https://digu-image-host.s3.bitiful.net/2024/02/d53c7bcb0c4f4d21b94dda1e3fd45a3d/19d2c37428f3448ea58831b49610bfab.png!style:definition" src="https://digu-image-host.s3.bitiful.net/2024/02/d53c7bcb0c4f4d21b94dda1e3fd45a3d/19d2c37428f3448ea58831b49610bfab.png!style:thumbnail" alt="后台设置"></a></li></ul>

<p>特别说明下，<strong>API KEY</strong>需要前往<a target="_blank" rel="noopener" href="https://makersuite.google.com/app/apikey">Google AI Studio</a>或<a target="_blank" rel="noopener" href="https://ai.google.dev/">Gemini</a>进行申请。但是，Gemini 服务仅<a target="_blank" rel="noopener" href="https://ai.google.dev/available_regions#available_regions">开放部分地区</a>，中国地区仅台湾省开放，建议使用漂亮国节点去申请。</p>
<p>另外，如果你的服务器在可用地区范围内，那么使用默认的接口地址即可，非可用地区，需要设置<strong>自定义接口地址</strong>，这里提供一个免翻的地址<code>gemini.baipiao.io</code>，替换掉<code>generativelanguage.googleapis.com</code>即可。毕竟不是自己的域名，可以的话最好是利用 CloudFlare 来搭建一个。</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul>
<li>部分操作需要科学上网，建议使用漂亮国节点；</li>
<li>没有AI评论的日志，首次进入会较慢，具体等待时间与服务器的网络或超时时间有关；</li>
<li>整个博客初始化，不用刻意去把每篇日志进行请求，这个可以交给搜索引擎的蜘蛛爬虫，基本一天左右就可以被爬完；</li>
<li>进入日志编辑页面，找到<code>gemini_comment</code>自定义字段，可以进行编辑或者删除，删除后加载页面会重新生成。</li>
</ul>
<h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/binjoo/typecho-plugins/releases/download/latest/Gemini.zip">Github</a></li>
<li><a target="_blank" rel="noopener" href="https://app.box.com/s/5abrx4f3tpf2nadt2x0wdukw19899a8u">Box</a></li>
<li><a target="_blank" rel="noopener" href="https://www.123pan.com/s/f2U6Vv-PBJ5d.html">123盘</a></li>
</ul>
</div></article><div class="end flex fai-c fjc-c mb-4"><span class="flex fai-c fjc-c my-4 o2">THE-END</span></div><div class="tags my-4"><ul class="flex fjc-c fd-r gap-4"><li><a class="py-1 px-4 flex fd-c fai-c" href="/tags/%E6%8F%92%E4%BB%B6/"><span>插件<sup>13</sup></span></a></li></ul></div><div class="near flex fjc-sb mb-4"><div class="prev"><a href="/post/fe58474077dd435d9e5ccdfbdbf27c3b/" ref="prev"><div class="text fw-b">PREVIOUS</div><div class="name">十七年</div></a></div><div class="next"><a href="/post/1a11c7441f574e35a2ca1af84db4bdad/" ref="next"><div class="text">NEXT</div><div class="name">大女儿的一些事</div></a></div></div><div class="comments"><div class="comment-items"><h2 class="pl-2">评论列表</h2><div class="not-found flex fai-c fjc-c">「此时无声胜有声」</div></div></div></main><footer class="flex fjc-c"><div class="copyright"><p>© 2007 - 现在 <a href="">嘀咕</a></p></div></footer><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script><script type="text/javascript" src="/js/forever.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazyload@1.9.7/jquery.lazyload.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script></div></body></html>