<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="theme-color" content="#202020"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>豆瓣信息同步到嘀咕 - 嘀咕</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.min.css"><link rel="stylesheet" href="/css/forever.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="wrap flex fd-c fai-c my-4 gap-4"><header class="flex fd-r fai-c fjc-sb mt-4 mb-8 gap-8"><div class="logo mb-1"><a class="flex px-2" href="/"><div class="draw"><div class="ghost"><div class="body"><div class="face"><div class="eyes"><span></span><span></span></div><div class="mouth"></div></div><div class="hands"> </div></div><div class="feet"><span></span><span></span><span></span><span></span></div></div></div><span class="name flex fjc-c fai-c">嘀咕</span></a></div><ul class="flex m-0 p-0 ta-c gap-6"><li><a href="/">首页</a></li><li><a href="/says">碎语</a></li><li><a href="/archives">归档</a></li><li><a href="/friends">朋友</a></li><li><a href="/about">关于</a></li></ul></header><main><article><div class="header flex fd-c fai-c"><h1 class="my-0">豆瓣信息同步到嘀咕</h1><time datetime="2010-04-08T07:49:00.000Z">2010-04-08 15:49</time></div><div class="content mt-6"><p><a target="_blank" rel="noopener" href="http://www.digu.com/">嘀咕</a>，一个不错的微博，自从<a target="_blank" rel="noopener" href="http://jan.cm/2010/04/wordpress-synchronous-digu/">同步日志到嘀咕</a>后，就一直琢磨着怎么把<a target="_blank" rel="noopener" href="http://www.douban.com/">豆瓣</a>的信息也同步过去。</p>
<p>百度里google了一下，发现还是有办法的，基本都是分为两步，第一步是先在<a target="_blank" rel="noopener" href="http://www.feedburner.com/">Feedburner</a>中烧制一个豆瓣的RSS，然后将其添加到Twitter中去；第二步的方法目前只知道两种，第一种是用过GAE来读取twitter的信息，第二种是通过cpanel的时钟守护作业来读取。</p>
<p>关于Feedburner的烧制到添加进入twitter，大家可以猛击<a target="_blank" rel="noopener" href="http://www.williamlong.info/archives/2021.html">这里</a>查看，已经说的很详细了。</p>
<p>从twitter同步到嘀咕，我这里选择的是第二种方法，通过cpanel的时钟守护作业来进行操作，该方法有国外主机的人效果更好。这里需要使用一个php程序，叫做&lt;<a target="_blank" rel="noopener" href="http://code.google.com/p/tw2ohter/">Tw2Ohter</a>，是国人写的一款专门用于同步国内微博的程序。使用方法我就不写了，作者的博客中有<a target="_blank" rel="noopener" href="http://cuies.com/post/tutorial-for-tw2other-and-cpanel-cron.html">详细的介绍</a></a>。</p>
<p>下载的时候注意版本的选择，我下载0.7版发现配置文件里面全是乱码，所以还是推荐下载0.62版，这两个版本的区别也就是多了一个支持163微博的功能。</p>
<p>另外，这里告诉一个小小DIY的方法，再service.php大约161行的地方：</p>
<div class="code-block mb-6"><div class="header px-4 py-3" data-language="php"><span></span><span></span><span></span></div><div class="body flex fd-r"><div class="line-numbers py-1 mx-3"><span></span><span></span><span></span></div><pre class="language-php m-0 mr-4 py-1" data-language="php"><code class="language-php p-0"><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">_post_data</span> <span class="token punctuation">[</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">statusFieldName</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">urlencode</span> <span class="token punctuation">(</span> <span class="token variable">$content</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 改为</span>
<span class="token variable">$this</span><span class="token operator">-></span><span class="token property">_post_data</span> <span class="token punctuation">[</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">statusFieldName</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">urlencode</span> <span class="token punctuation">(</span><span class="token string double-quoted-string">"豆瓣信息："</span> <span class="token operator">.</span> <span class="token variable">$content</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>

<p>这样的修改就是在每条同步信息的前面加上“豆瓣信息”四个字，这比较适合twitter专门同步豆瓣的人。</p>
<p>整个同步方法的还是有些缺点的，缺点就在于第一步，rss订阅那里，你豆瓣rss有新的消息，推送到twitter中要等N久，所以说不能算是完全的同步，时间上还是有差别的。但是twitter同步到嘀咕仅仅只有不到一分钟的误差。</p>
<p>总之，有比没有好，最希望的还是嘀咕的插件滴哒快点恢复，这样就不用那么麻烦的弄来弄去了。</p>
<p>我的嘀咕是<a target="_blank" rel="noopener" href="http://digu.com/binjoo">@binjoo</a>，欢迎大家Follow。</p>
</div></article><div class="end flex fai-c fjc-c mb-4"><span class="flex fai-c fjc-c my-4 o2">THE-END</span></div><div class="tags my-4"><ul class="flex fjc-c fd-r gap-4"><li><a class="py-1 px-4 flex fd-c fai-c" href="/tags/%E8%B1%86%E7%93%A3/"><span>豆瓣<sup>3</sup></span></a></li><li><a class="py-1 px-4 flex fd-c fai-c" href="/tags/%E5%98%80%E5%92%95/"><span>嘀咕<sup>4</sup></span></a></li></ul></div><div class="near flex fjc-sb mb-4"><div class="prev"><a href="/post/e4e452e62da0422982b63cc924ead1ca/" ref="prev"><div class="text fw-b">PREVIOUS</div><div class="name">发放10枚凤凰微博邀请</div></a></div><div class="next"><a href="/post/202c27451a7e1bf0a925b69b3e3cc713/" ref="next"><div class="text">NEXT</div><div class="name">同步日志到嘀咕</div></a></div></div><div class="comments"><div class="comment-items"><h2 class="pl-2">评论列表</h2><div class="not-found flex fai-c fjc-c">「此时无声胜有声」</div></div></div></main><footer class="flex fjc-c"><div class="copyright"><p>© 2007 - 现在 <a href="">嘀咕</a></p></div></footer><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script><script type="text/javascript" src="/js/forever.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazyload@1.9.7/jquery.lazyload.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script></div></body></html>