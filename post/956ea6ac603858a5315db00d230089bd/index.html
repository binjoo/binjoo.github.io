<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="theme-color" content="#202020"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>动态 +1 效果 - 嘀咕</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.min.css"><link rel="stylesheet" href="/css/forever.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="wrap flex fd-c fai-c my-4 gap-4"><header class="flex fd-r fai-c fjc-sb mt-4 mb-8 gap-8"><div class="logo mb-1"><a class="flex px-2" href="/"><div class="draw"><div class="ghost"><div class="body"><div class="face"><div class="eyes"><span></span><span></span></div><div class="mouth"></div></div><div class="hands"> </div></div><div class="feet"><span></span><span></span><span></span><span></span></div></div></div><span class="name flex fjc-c fai-c">嘀咕</span></a></div><ul class="flex m-0 p-0 ta-c gap-6"><li><a href="/">首页</a></li><li><a href="/says">碎语</a></li><li><a href="/archives">归档</a></li><li><a href="/friends">朋友</a></li><li><a href="/about">关于</a></li></ul></header><main><article><div class="header flex fd-c fai-c"><h1 class="my-0">动态 +1 效果</h1><time datetime="2010-08-16T13:59:00.000Z">2010-08-16 21:59</time></div><div class="content mt-6"><p>蛋疼，我也不知道给这效果起名字，就这样吧，这样大家更加容易理解。</p>
<p>话说YD的<a target="_blank" rel="noopener" href="http://www.tulongzhiji.com/mopvhs">@MOPVHS</a>写了一篇<a target="_blank" rel="noopener" href="http://www.tulongzhiji.com/mopvhs/archives/621">WordPress借jQuery之力找出坐沙发的是谁</a>，进去看后发现这个功能没撒好玩的，于是就继续做我喜欢的事-看评论。往下一拖动，就发现了一个红色字体的 +1 渐渐的上升（开始我以为是JQ实现的，后来发现是张图片，日）。</p>
<p>评论提交成功后就会如下图所示的一样，你30天内的评论数 +1 ，真是效果大家评论后就可以看到的。</p>
<p>实现这个效果不难，仅仅只是用到了jQuery的 animate 函数。首先说说我博客的评论环境，我博客使用的是非嵌套的Ajax提交方法，修改方法来至于<a target="_blank" rel="noopener" href="http://www.xiaorsz.com/jquery-wordpress-ajax-comments/">@Xiaorsz</a>，其实这些影响都不大，直接给出代码吧，修改的文件就看你自己的博客是怎么折腾的了。 </p>
<div class="code-block mb-6"><div class="header px-4 py-3" data-language="javascript"><span></span><span></span><span></span></div><div class="body flex fd-r"><div class="line-numbers py-1 mx-3"><span></span><span></span></div><pre class="language-javascript m-0 mr-4 py-1" data-language="javascript"><code class="language-javascript p-0"><span class="token comment">//.......省略Ajax提交的一部分，从提交成功后开始</span>
<span class="token comment">//不记得了。</span></code></pre></div></div>
<p>实现代码就这么一点，其他的美化大家自己再去试吧。</p>
<ul>
<li>从来没有在本博客评论过；</li>
<li>当前浏览器中没有本博的Cookie记录；</li>
<li>浏览器中有Cookie记录，但是30天之内没有任何评论的；</li>
</ul>
<p>PS.以上三种情况是不会显示这种效果的，解决办法就是添加一条评论后刷新页面再评论就可以看到效果了。</p>
</div></article><div class="end flex fai-c fjc-c mb-4"><span class="flex fai-c fjc-c my-4 o2">THE-END</span></div><div class="tags my-4"><ul class="flex fjc-c fd-r gap-4"><li><a class="py-1 px-4 flex fd-c fai-c" href="/tags/jquery/"><span>jquery<sup>7</sup></span></a></li><li><a class="py-1 px-4 flex fd-c fai-c" href="/tags/%E5%8A%A8%E6%80%81/"><span>动态<sup>1</sup></span></a></li></ul></div><div class="near flex fjc-sb mb-4"><div class="prev"><a href="/post/d7f11540586e8869e4918d952752ceed/" ref="prev"><div class="text fw-b">PREVIOUS</div><div class="name">前往深圳</div></a></div><div class="next"><a href="/post/a9db531181d57a7517a9c5a8d0e58476/" ref="next"><div class="text">NEXT</div><div class="name">禁止黑名单的评论</div></a></div></div><div class="comments"><div class="comment-items"><h2 class="pl-2">评论列表</h2><div class="not-found flex fai-c fjc-c">「此时无声胜有声」</div></div></div></main><footer class="flex fjc-c"><div class="copyright"><p>© 2007 - 现在 <a href="">嘀咕</a></p></div></footer><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script><script type="text/javascript" src="/js/forever.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazyload@1.9.7/jquery.lazyload.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script></div></body></html>